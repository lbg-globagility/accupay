<mat-card class="login">
  <div class="login__header">
    <img src="assets/notisphere-blue.png" width="200px" />
    <h2>WELCOME</h2>
  </div>

  <form
    [formGroup]="form"
    autocomplete="on"
    (ngSubmit)="login()"
    class="login__form"
  >
    <div *ngIf="loginError != null" class="error">
      <mat-icon class="m-align-middle">cancel</mat-icon>
      <ng-container [ngSwitch]="loginError">
        <ng-container *ngSwitchCase="'BadCredentials'">
          Either the email or password is incorrect.
        </ng-container>
        <ng-container *ngSwitchCase="'Server error'"
          >Could not connect to the server</ng-container
        >
      </ng-container>
    </div>

    <mat-form-field class="login__field" appearance="outline" color="accent">
      <mat-icon matPrefix>email</mat-icon>
      <input
        matInput
        formControlName="email"
        placeholder="Email"
        type="email"
        name="email"
        id="login-email"
      />
      <mat-error>Email is required</mat-error>
    </mat-form-field>

    <mat-form-field class="login__field" appearance="outline" color="accent">
      <mat-icon matPrefix>lock</mat-icon>
      <input
        matInput
        formControlName="password"
        type="password"
        autocomplete="off"
        placeholder="Password"
        id="login-password"
      />
      <mat-error>Password is required</mat-error>
    </mat-form-field>

    <div class="login__actions">
      <button
        mat-raised-button
        color="accent"
        type="submit"
        [disabled]="loggingIn | async"
      >
        LOGIN
      </button>
      <button
        mat-button
        (click)="forgotPassword()"
        [disabled]="loggingIn | async"
      >
        Forgot password?
      </button>
    </div>
  </form>
</mat-card>
